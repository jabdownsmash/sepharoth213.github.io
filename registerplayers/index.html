<html>
   <head >
   <script src="https://cdn.firebase.com/js/client/1.0.21/firebase.js"></script>
      <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
      <title >Player Register page</title>
   </head>
<body>
<h1>Player Register page</h1>

<br />
<br />

number <br />
<input type="number" id="playerNumber" min="920000000" max="1000000000">
<br />
<br />
name
<br />
<input type="text" id="playerName">

<br />
<br />
password
<br />
<input type="password" id="password">
<br />
<br />

<button onclick="myFunction()">Register Player</button>

<p id="demo"></p>

<script>
var myFirebaseRef = new Firebase("https://melee-match-history.firebaseio.com/");
 myFirebaseRef.child("players").on("value", function(snapshot) {
   players = snapshot.val();
 });

function checkNumber(number){
  for(var player in players)
  {
    if(number == players[player].idNumber)
    {
      return true;
    }
  }
  return false;
}

function myFunction() {
   var d = new Date();
   var players;
   var playerNumber = document.getElementById("playerNumber").value;
   if(document.getElementById("password").value == "bigfuckboy")
   {
     if(!checkNumber(playerNumber))
     {
      var obj = {};
      // obj[playerNumber] = ;
        var postsRef = myFirebaseRef.child("players");
          postsRef.push({
            idNumber : playerNumber,
            playerName : document.getElementById("playerName").value
          });
          alert("Submitted player!");
     }
     else
     {
        alert("ID number already registered");
     }
   }
   else
   {
    alert("Incorrect password");
   }
}
</script>
 
</body>
</html>